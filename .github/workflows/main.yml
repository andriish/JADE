name: build
on:
 push:
 pull_request:
 schedule:
#Every 5 days at midnight 
    - cron:  "0 0 1/60 * *"

jobs:

  compilejobCentOS7:
    runs-on: ubuntu-latest
    name: zevis_on_CentOS7
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Compile
      id: compileindocker
      uses: ./.github/workflows/centos7
    - name: Get the output status
      run: exit ${{ steps.compileindocker.outputs.out }}

  compilejobCentOS8:
    runs-on: ubuntu-latest
    name: zevis_on_CentOS8
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Compile
      id: compileindocker
      uses: ./.github/workflows/centos8
    - name: Get the output status
      run: exit ${{ steps.compileindocker.outputs.out }}
      
  compilejobOSX:
    runs-on: macos-latest
    name: zevis_on_OSX
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Compile
      id: compile
      #uses: ./.github/workflows/osx
      run: ./.github/workflows/osx/entrypoint.sh
    - name: Get the output status
      run: exit ${{ steps.compileindocker.outputs.out }}